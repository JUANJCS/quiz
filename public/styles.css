:root{
  --bg:#f6f8ff;--panel:#fff;--panel-soft:#f3f5ff;--ink:#0e1220;--muted:#64708f;
  --brand:#758bff;--brand-2:#5f78ff;--good:#23b26b;--bad:#ef6055;
  --ring:#dfe5ff;--shadow:0 24px 48px rgba(26,32,69,.14);
}

*{box-sizing:border-box}
body{margin:0;background:radial-gradient(1200px 700px at 50% -200px,#ffffff 0%,#eef1ff 55%,#f6f8ff 100%);
  font:16px/1.45 system-ui,-apple-system,Inter,Segoe UI,Roboto,Helvetica,Arial,sans-serif;color:var(--ink)}
.app{max-width:760px;margin:0 auto;padding:20px 18px 28px}

/* header */
.logo{margin:4px 0 6px;text-align:center;font-size:64px;font-weight:900;
  letter-spacing:.5px;background:linear-gradient(90deg,#79d5ff,#9aa6ff,#caa8ff);
  -webkit-background-clip:text;color:transparent}
.subtitle{margin:0 auto 6px;text-align:center;font-weight:700;color:var(--muted)}

/* progress */
.progress{height:8px;background:#e8ecff;border-radius:10px;overflow:hidden;margin:8px 0 14px}
#bar{height:100%;width:0;background:linear-gradient(90deg,var(--brand),var(--brand-2));transition:width .25s}

/* indicators */
.indicators{display:flex;gap:14px;justify-content:space-between;margin:6px 0 10px}
.chip{flex:1;background:var(--panel);border:1px solid var(--ring);border-radius:18px;
  padding:12px 10px;text-align:center;box-shadow:0 10px 22px rgba(26,32,69,.08)}
.chip .n{font-size:24px;font-weight:900}
.chip .l{font-size:12px;color:var(--muted)}

/* cards */
.card{background:linear-gradient(180deg,var(--panel) 0%,var(--panel-soft) 100%);
  border:1px solid var(--ring);border-radius:24px;box-shadow:var(--shadow);
  padding:28px;min-height:260px;display:flex;align-items:center;justify-content:center;margin:12px 0}
.card-inner{width:100%;height:100%;display:flex;align-items:center;justify-content:center;flex-direction:column;text-align:center}
.name{font-size:46px;font-weight:900;margin:0;color:#0b1020}
.badge{font-size:20px;font-weight:900;color:var(--good);margin-bottom:6px}
.badge.bad{color:var(--bad)}
.emoji{font-size:88px;margin:6px 0}
.desc{max-width:48ch;color:var(--muted);margin:6px auto 0}

/* actions */
.actions{display:flex;gap:18px;justify-content:center;margin-top:18px}
.btn{
  flex:1;min-height:120px;padding:28px 22px;border-radius:22px;border:2px solid var(--ring);
  background:var(--panel);font-size:22px;font-weight:800;color:#0f1429;
  display:flex;align-items:center;justify-content:center;text-align:center;cursor:pointer;
  box-shadow:0 10px 22px rgba(26,32,69,.08);transition:transform .12s,box-shadow .12s,background .12s,border-color .12s}
.btn:hover{transform:translateY(-1px);box-shadow:0 14px 28px rgba(26,32,69,.12)}
.btn:active{transform:translateY(0)}
.btn.primary{
  background:linear-gradient(180deg,var(--brand),var(--brand-2));border-color:transparent;color:#fff}
.btn.outline{
  background:var(--panel);border-color:var(--ring)}
.btn.disabled{opacity:.5;pointer-events:none}

/* footer */
.tip{text-align:center;color:var(--muted);margin:14px 0 10px}
.foot{margin:0 auto;text-align:center;color:var(--muted);font-size:12px}
.link{background:none;border:none;color:var(--brand-2);text-decoration:underline;font-weight:800;cursor:pointer}

/* modal + sheet */
.modal,.sheet{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;padding:24px;
  background:rgba(12,16,32,.28);backdrop-filter:blur(4px);z-index:50}
.modal[hidden],.sheet[hidden]{display:none!important}
.modal-box{background:#fff;border-radius:18px;border:1px solid var(--ring);box-shadow:var(--shadow);
  width:min(560px,92vw);max-height:min(640px,90vh);overflow:auto;padding:22px;text-align:center}
.modal-box h3{margin:6px 0 2px}
.modal-body{color:var(--muted)}
.modal-body ul{margin:8px 0 8px 20px;text-align:left}
.modal-body li{margin:4px 0}
.modal-box .btn{min-height:72px;padding:16px 18px;border-radius:16px}

/* legal sheet */
.sheet-box{position:absolute;left:50%;bottom:0;transform:translateX(-50%);
  width:min(620px,95vw);background:#fff;border:1px solid var(--ring);border-radius:18px 18px 0 0;
  padding:16px;box-shadow:0 -26px 44px rgba(12,16,32,.25)}
.sheet-head{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px}
.sheet-body{color:var(--muted)}

/* view modes */
#answerCard,#answerActions{display:none}
body.mode-answer #questionCard,body.mode-answer #questionActions{display:none}
body.mode-answer #answerCard,body.mode-answer #answerActions{display:flex}

/* touch */
@media (pointer:coarse){
  .btn{min-height:140px;font-size:24px}
  .name{font-size:50px}
}